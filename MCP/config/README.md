# MCPサーバー設定管理

このディレクトリでは、MCPサーバーの設定を効率的に管理するための新しい構造を提供します。

## ディレクトリ構造

```
MCP/config/
├── env.json           # 環境変数の定義
├── base.json          # 基本設定テンプレート
├── development.json   # 開発環境用設定
└── generate-config.ps1 # 設定生成スクリプト
```

## セットアップ手順

1. SQLiteサーバーのDockerイメージのビルド
```powershell
cd ../custom-mcp/sqlite
./docker-build.ps1
```

2. 環境変数の設定
- `env.json`を編集して、環境に合わせたパスを設定

3. MCP設定の生成
```powershell
cd ../../config
./generate-config.ps1
```

## 設定ファイルの説明

### env.json
- プロジェクト全体で使用する環境変数を定義
- パスや共通設定値を一元管理
- 環境変数の参照は`${VARIABLE_NAME}`形式で可能

### base.json
- MCPサーバーの基本設定テンプレート
- Python/Node.jsサーバー用のデフォルト設定
- 共通のサーバー設定パターン

### development.json
- 開発環境特有の設定
- Docker化されたサーバーの設定
- 環境変数を使用したパス解決

## 利点

1. 移植性の向上
- 環境変数による柔軟なパス解決
- Dockerによる環境の標準化
- 設定の一元管理

2. 保守性の向上
- 共通設定の分離
- 環境別の設定管理
- 設定生成の自動化

3. セキュリティの向上
- 環境変数による機密情報の管理
- Dockerコンテナによる分離
- 設定ファイルの構造化

## トラブルシューティング

1. 設定生成エラー
- 環境変数の定義を確認
- パスの存在を確認
- 設定ファイルの構文を確認

2. Dockerビルドエラー
- Dockerのインストールを確認
- ビルドコンテキストを確認
- 必要なファイルの存在を確認

3. サーバー起動エラー
- 生成された設定ファイルを確認
- Dockerコンテナのログを確認
- 環境変数の解決を確認

## 今後の展開

1. 本番環境設定の追加
2. より多くのサーバーのDocker化
3. 監視・ロギング機能の強化
4. 自動デプロイメントの導入

## 注意事項

- 設定ファイルの変更後は必ず`generate-config.ps1`を実行
- 機密情報は環境変数として管理
- Dockerイメージの更新時は必ずビルドを実行